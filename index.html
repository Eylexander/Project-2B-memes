<!DOCTYPE html><html><head>
		<meta charset="UTF-8">
		<title>Meme Generator</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="A meme generator using my own meme API">
        <meta name="author" content="Eylexander">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://eylexander.xyz/memegen/">
        <meta property="og:title" content="Meme Generator">
        <meta property="og:description" content="A meme generator using my own meme API">
        <meta property="og:image" content="https://eylexander.xyz/Collection/memes/image0-61.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@eylexander">
        <meta name="twitter:title" content="Meme Generator">
        <meta name="twitter:description" content="A meme generator using my own meme API">
        <meta name="twitter:image:src" content="https://eylexander.xyz/Collection/memes/image0-61.png">
        <meta name="twitter:creator" content="@eylexander">

		<link rel="stylesheet" href="./tools/style.css">
		<link rel="icon" href="./tools/favicon.ico" type="image/x-icon">
	</head>

	

	<body>

		<div id="loader-wrapper">
			<div id="loader">
				<h2>This website might use a lot of data.</h2>
			</div>
		</div>

		<span id="circle"></span>

		<div class="main">
			<h1>Eylexander's Meme Generator</h1>
			<a href="#" id="aconteneur" target="_blank" title="#">
				<div id="conteneur"></div>
			</a>
			<div class="container">
				<button class="buttonclick" id="previousUrl">
					<span>Go back</span>
					<svg viewBox="-5 -5 110 110" preserveAspectRatio="none" aria-hidden="true">
					  	<path d="M0,0 C0,0 100,0 100,0 C100,0 100,100 100,100 C100,100 0,100 0,100 C0,100 0,0 0,0"/>
					</svg>
				</button>
				<button class="buttonclick" id="bouton-afficher">
					<span>Reload</span>
					<svg viewBox="-5 -5 110 110" preserveAspectRatio="none" aria-hidden="true">
					  	<path d="M0,0 C0,0 100,0 100,0 C100,0 100,100 100,100 C100,100 0,100 0,100 C0,100 0,0 0,0"/>
					</svg>
				</button>
			</div>
		</div>

		<script>
			// Créer un objet pour stocker les urls précédentes

			const previousUrls = [];
			let imageIndex = -1;

			function afficherContenu(url) {
				const conteneur = document.getElementById('conteneur');
				if (url.endsWith('.mp4') || url.endsWith('.webm') || url.endsWith('.mov') || url.endsWith('.MP4')) {
					const video = document.createElement('video');
					video.controls = true;
					video.src = url;
					video.style.maxHeight = window.innerHeight * 0.5 + 'px';
					video.style.maxWidth = window.innerWidth * 0.8 + 'px';
					conteneur.appendChild(video);
				} else if (url.endsWith('.jpg') || url.endsWith('.jpeg') || url.endsWith('.png') || url.endsWith('.gif') || url.endsWith('.webp') || url.endsWith('.PNG')) {		
					const image = document.createElement('img');
					image.src = url;
					image.style.maxHeight = window.innerHeight * 0.5 + 'px';
					image.style.maxWidth = window.innerWidth * 0.8 + 'px';
					conteneur.appendChild(image);
				} else {
					conteneur.textContent = 'Le format de fichier n\'est pas pris en charge : ' + url;
				}
			}

			function obtenirNouvelleUrl() {
				fetch('https://api.eylexander.xyz/')
					.then(response => response.json())
					.then(data => {
						const url = data.url;
						const conteneur = document.getElementById('conteneur');
						const aconteneur = document.getElementById('aconteneur');
						conteneur.innerHTML = '';
						aconteneur.href = url;
						aconteneur.title = 'Click to open in new tab';
						afficherContenu(url);

						// Ajouter l'url actuelle à previousUrls
						previousUrls.push(url);
						imageIndex = previousUrls.length - 1;
					})
					.catch(error => {
						console.error('Erreur :', error);
					});				
			}

			// Appeler la fonction obtenirNouvelleUrl() lorsque le bouton est cliqué
			document.getElementById('bouton-afficher').addEventListener('click', obtenirNouvelleUrl);

			// Retourne à l'url précédente
			document.getElementById('previousUrl').addEventListener('click', function() {
				const conteneur = document.getElementById('conteneur');

				// Si l'index est inférieur ou égal à 0, ne rien faire
				if (imageIndex <= 0) return;
				imageIndex--;

				// Remplacer le contenu du conteneur par l'url précédente
				conteneur.innerHTML = '';
				afficherContenu(previousUrls[imageIndex]);
			});

			// Appeler la fonction obtenirNouvelleUrl() une première fois au chargement de la page
			obtenirNouvelleUrl();
		</script>
	
</body></html>